{
    "docs": [
        {
            "location": "/index.html",
            "text": "Stand:\n 26.7.2017\n\nVersion:\n 2.0.1\n\n\nOmeka Multiinstanz Manager - OMIM\n\u00b6\n\n\nOMIM erm\u00f6glicht das Bereitstellen und die Verwaltung von Omeka Instanzen.\nEs setzt dabei eine Produktionslinie von min. zwei Servern voraus.\n\n\n\n\nEntwicklungs- bzw. Redaktionsserver (Ausstellungsredaktionssystem)\n\n\nProduktions- bzw. Liveserver (Mutterinstanz) mit 1-n Servern (f\u00fcr Loadbalancing)\n\n\n\n\nOMIM wird auf dem Entwicklungsserver installiert und eingerichtet.\nDie Software erm\u00f6glicht das Ver\u00f6ffentlichen von Instanzen auf den Produktionsservern.",
            "title": "Einleitung"
        },
        {
            "location": "/index.html#omeka-multiinstanz-manager-omim",
            "text": "OMIM erm\u00f6glicht das Bereitstellen und die Verwaltung von Omeka Instanzen.\nEs setzt dabei eine Produktionslinie von min. zwei Servern voraus.   Entwicklungs- bzw. Redaktionsserver (Ausstellungsredaktionssystem)  Produktions- bzw. Liveserver (Mutterinstanz) mit 1-n Servern (f\u00fcr Loadbalancing)   OMIM wird auf dem Entwicklungsserver installiert und eingerichtet.\nDie Software erm\u00f6glicht das Ver\u00f6ffentlichen von Instanzen auf den Produktionsservern.",
            "title": "Omeka Multiinstanz Manager - OMIM"
        },
        {
            "location": "/install/index.html",
            "text": "Allgemeine Anforderungen\n\u00b6\n\n\nDie Installation erfolgt auf \n*nix-Servern\n mit eingerichteter \nLAMP\n Konfiguration.\n\n\nVoraussetzung ist, dass der Entwicklungsserver mit den Produktionsservern per SSH mit schl\u00fcsselbasierter Authentifizierung kommunizieren kann.\n\n\nDie Server sollten jeweils \u00fcber nicht weniger als 1GB RAM verf\u00fcgen.\n\n\nF\u00fcr diese Dokumentation wird f\u00fcr die Beispiele und Erl\u00e4uterungen der Entwicklungsserver mit der Beispieldom\u00e4ne \nredaktion.tld\n und der Produktionsserver mit \nlive.tld\n sowie \nlive-two.tld\n gleichgesetzt.\n\n\nApache Server\n\u00b6\n\n\nAuf allen Apache http-Servern (Entwicklung und Produktion) m\u00fcssen mindestens folgende Module installiert und aktiviert sein:\n\n\n\n\ndeflate\n\n\nmime\n\n\nrewrite\n\n\n\n\nDas Modul \nrewrite\n muss f\u00fcr .htaccess-Dateien des jeweiligen Hosts erlaubt sein.\n\n\nDar\u00fcber hinaus muss in der Apachekonfiguration f\u00fcr den jeweiligen Host die Option \nFollowSymLinks\n muss gesetzt sein.\n\n\nMySQL Server\n\u00b6\n\n\nVersion 5 oder h\u00f6her und mit Verbindung \u00fcber UNIX-SOCKET\n\n\nPHP\n\u00b6\n\n\nVersion 5.4 oder h\u00f6her.\nErforderliche Module/Extensions:\n\n\n\n\nMCrypt\n\n\nPHP JSON\n\n\nMYSQLI und PDO_MySQL\n\n\nEXIF\n\n\nphp-imagick\n\n\n\n\nBitte die Einstellungen f\u00fcr gro\u00dfe Dateiuploads innerhalb Omeka (z.B. Audiodateien) insbes. auf dem Entwicklungsserver in der php.ini anpassen.\nEmpfohlene Werte:\n\n\n\n\nmax_execution_time = 7200\n\n\nmax_input_time = 7200\n\n\nmemory_limit = 256M\n\n\npost_max_size = 200M\n\n\nupload_max_filesize = 200M\n\n\n\n\nImageMagick\n\u00b6\n\n\nMuss auf allen Servern installiert sein.",
            "title": "Anforderungen"
        },
        {
            "location": "/install/index.html#allgemeine-anforderungen",
            "text": "Die Installation erfolgt auf  *nix-Servern  mit eingerichteter  LAMP  Konfiguration.  Voraussetzung ist, dass der Entwicklungsserver mit den Produktionsservern per SSH mit schl\u00fcsselbasierter Authentifizierung kommunizieren kann.  Die Server sollten jeweils \u00fcber nicht weniger als 1GB RAM verf\u00fcgen.  F\u00fcr diese Dokumentation wird f\u00fcr die Beispiele und Erl\u00e4uterungen der Entwicklungsserver mit der Beispieldom\u00e4ne  redaktion.tld  und der Produktionsserver mit  live.tld  sowie  live-two.tld  gleichgesetzt.",
            "title": "Allgemeine Anforderungen"
        },
        {
            "location": "/install/index.html#apache-server",
            "text": "Auf allen Apache http-Servern (Entwicklung und Produktion) m\u00fcssen mindestens folgende Module installiert und aktiviert sein:   deflate  mime  rewrite   Das Modul  rewrite  muss f\u00fcr .htaccess-Dateien des jeweiligen Hosts erlaubt sein.  Dar\u00fcber hinaus muss in der Apachekonfiguration f\u00fcr den jeweiligen Host die Option  FollowSymLinks  muss gesetzt sein.",
            "title": "Apache Server"
        },
        {
            "location": "/install/index.html#mysql-server",
            "text": "Version 5 oder h\u00f6her und mit Verbindung \u00fcber UNIX-SOCKET",
            "title": "MySQL Server"
        },
        {
            "location": "/install/index.html#php",
            "text": "Version 5.4 oder h\u00f6her.\nErforderliche Module/Extensions:   MCrypt  PHP JSON  MYSQLI und PDO_MySQL  EXIF  php-imagick   Bitte die Einstellungen f\u00fcr gro\u00dfe Dateiuploads innerhalb Omeka (z.B. Audiodateien) insbes. auf dem Entwicklungsserver in der php.ini anpassen.\nEmpfohlene Werte:   max_execution_time = 7200  max_input_time = 7200  memory_limit = 256M  post_max_size = 200M  upload_max_filesize = 200M",
            "title": "PHP"
        },
        {
            "location": "/install/index.html#imagemagick",
            "text": "Muss auf allen Servern installiert sein.",
            "title": "ImageMagick"
        },
        {
            "location": "/dev-srv/index.html",
            "text": "Entwicklungsserver\n\u00b6\n\n\nMySQL Datenbank\n\u00b6\n\n\nBei Updates\n\u00b6\n\n\nDie bereits existierende Datenabnk kann weiter verwendet werden.\n\n\nErst-Installation\n\u00b6\n\n\nLegen Sie bitte eine leere Datenbank mit der Kollation \nutf8_unicode_ci\n und einen MySQL Benutzer an. Gew\u00e4hren Sie dem MySQL Benutzer alle Rechte auf die Datenbank.\nSie erhalten initial eine MySQL-Datenbank-Dump-Datei, die Sie \neinmalig\n auf dem Entwicklungsserver in die von Ihnen erstellte Datenbank einlesen m\u00fcssen.\n\n\nDateien\n\u00b6\n\n\nVorbereitung bei Upgrade auf Git-Verion\n\u00b6\n\n\nFalls Sie ein Upgrade auf die Git-Version durchf\u00fchren, sichern Sie zun\u00e4chst alle Dateien aus dem Verzeichnis \napp\\config\n und die SSH-Schl\u00fcssel aus dem Verzeichnis \ndata/rsa/\n, sowie die bereits vorhandenen Omneka Instanzen aus dem Ordner \npublic\n!\nDas sind alle Verzeichnisse unter \npublic\n au\u00dfer diesen:\n\n\n\n\njs\n\n\ncss\n\n\nfonts\n\n\nassets\n\n\npackages\n\n\n\n\nInstallation\n\u00b6\n\n\nKlonen Sie zun\u00e4chst das \nRepository\n f\u00fcr OMIM in eine \nleeres\n Verzeichnis auf Server.\n\n\n\n\nVerzeichnis- und Dateirechte\n\n\nEs muss gew\u00e4hrleistet sein, dass der Benutzer bzw. die Gruppe, unter der Apache / PHP auf dem Server ausgef\u00fchrt wird, Lese- und Schreibzugriff auf alle erstellten Verzeichnisse und Dateien hat. Dazu sollten die Berechtigungen gesetzt sein, indem die \nGruppe\n gleich der prim\u00e4ren Gruppe von Apache / PHP ist (i.d.R. \nwww-data\n) und die Rechte f\u00fcr Verzeichnisse auf \n775\n und f\u00fcr Dateien auf \n664\n gesetzt sind.\n\n\n\n\nKlonen jetzt Sie das \nRepository\n direkt in den Unterordner \nlib\n.\nVerwenden sie dazu den Befehl \ngit clone https://github.com/Deutsche-Digitale-Bibliothek/ddb-virtualexhibitions.git . --branch omeka-2.5\n\num das Repositorium direkt in den Ordner zu klonen (es muss am Ende ein Pfad exisiteren mit \nlib/omeka\n).\nFalls Sie das Argument \n--branch omeka-2.5\n am Ende weggelassen haben, wechseln Sie jetzt in den Branch omeka-2.5 mit \ngit checkout omeka-2.5\n.\n\n\n\n\nDer aktuelle Branch ist omeka-2.5\n\n\nBeachten Sie, dass Sie bis auf Weiteres immer nur mit der omeka-2.5 Branch arbeiten. Nur dort sind die Dateien aktualisiert.\nDie Masterbranch ist noch die alte Omeka-Version.\n\n\n\n\nBei einer \nUpgrade-Installation\n Verschieben oder kopieren Sie jetzt, die im vorigen Schritt gesicherten, Dateien und Ordner an Ihre jeweiligen Orte (\napp\\config\n, \ndata/rsa/\n, \npublic\n)!\n\n\nAchten Sie darauf, dass in der Apache Serverkonfiguration das \nDOCUMENT_ROOT\n von der Dom\u00e4ne auf das \npublic\n Verzeichnis zeigt.\n\n\nKonfiguration\n\u00b6\n\n\nWenn Sie eine Upgrade Installation durchf\u00fchren, brauchen Sie die Konfigurationsdateien nicht weiter anzupassen, sondern nur aus der Sicherung zu \u00fcbernehmen.\n\n\nHier der f\u00fcr die Konfiguration relevanten Dateien:\n\n\n\n\n\n\napp\n\n\nconfig\n\n\napp.php\n\n\ndatabase.php\n\n\nmail.php\n\n\nomim.php\n\n\n\n\n\n\n\n\n\n\ndata\n\n\nrsa\n\n\nddb_rsa\n\n\nddb_rsa.pub\n\n\n\n\n\n\n\n\n\n\npublic\n\n\n\n\n\n\napp/config/app.php\n\u00b6\n\n\nAllgemeine Konfiguration des OMIM\n\n\n\n\n'debug'\n\n\nStandardwert: \nfalse\n\n\nFalls \ntrue\n werden bei Fehlern des OMIM detaillierte Meldungen angezeigt\n\n\n\n\n\n\n'url'\n\n\nStandardwert: \n'http://redaktion.tld'\n\n\nHier bitte die URL des Entwicklungsservers angeben\n\n\n\n\n\n\n\n\napp/config/database.php\n\u00b6\n\n\nDatenbankeinstellungen des \nEntwicklungsservers\n\nRelevanter Konfigurationsabschnitt:\n\n\n'connections' => array(\n    'mysql' => array(\n        'driver'    => 'mysql',\n        'host'      => 'localhost',\n        'unix_socket' => '/tmp/mysql5.sock',\n        'database'  => 'Name der Datenbank',\n        'username'  => 'Benutzername',\n        'password'  => 'Passwort',\n        'charset'   => 'utf8',\n        'collation' => 'utf8_unicode_ci',\n        'prefix'    => '',\n    ),\n),\n\n\n\n\n\n\n\nTragen Sie unter \ndatabase\n, \nusername\n und \npassword\n die Angaben f\u00fcr die MySQL-Datenbank auf dem Entwicklungsserver ein (s.o. unter \"MySQL Datenbank\").\n\n\nPassen Sie ggf. den Pfad \nunix_socket\n zu der Unix Socket Datei an.\n\n\n\n\napp/config/mail.php\n\u00b6\n\n\nSollten Sie w\u00fcnschen, dass OMIM E-Mails versenden kann, tragen Sie hier bitte die entsprechenden Werte ein.\n\n\napp/config/omim.php\n\u00b6\n\n\nSpezifische Konfiguration f\u00fcr die OMIM Anwendung.\nRelevanter Konfigurationsabschnitt:\n\n\n'development' => array(\n    'user' => array(\n        'group' => 'www-data'\n    )\n),\n\n'remote' => array(\n    0 => array(\n        'production' => array(\n            'http' => array(\n                'url' => 'http://live.tld'\n            ),\n            'ssh' => array(\n                'host' => 'live.tld',\n                'port' => '22',\n                'username' => 'Benutzername f\u00fcr SSH',\n                'key' => '/path/to/private/rsa/key/file',\n                'docroot' => '/path/to/document_root/on/live/server',\n                'datadir' => '/path/to/data/dir/on/live/server',\n                'group' => 'www-data'\n            ),\n                'db' => array(\n                'host'      => 'localhost',\n                'database'  => 'Name der Datenbank',\n                'username'  => 'Benutzername',\n                'password'  => 'Passwort',\n                'charset'   => 'utf8',\n                'collation' => 'utf8_unicode_ci',\n                'unix_socket' => '/tmp/mysql5.sock',\n            )\n        )\n    ),\n    1 => array(\n        'production' => array(\n            'http' => array(\n                'url' => 'http://live-two.tld'\n            ),\n            'ssh' => array(\n                'host' => 'live-two.tld',\n                'port' => '22',\n                'username' => 'Benutzername f\u00fcr SSH',\n                'key' => '/path/to/private/rsa/key/file',\n                'docroot' => '/path/to/document_root/on/live/server',\n                'datadir' => '/path/to/data/dir/on/live/server',\n                'group' => 'www-data'\n            ),\n            'db' => array(\n                'host'      => 'localhost',\n                'database'  => 'Name der Datenbank',\n                'username'  => 'Benutzername',\n                'password'  => 'Passwort',\n                'charset'   => 'utf8',\n                'collation' => 'utf8_unicode_ci',\n                'unix_socket' => '/tmp/mysql5.sock',\n            )\n        )\n    ),\n)\n\n\n\n\n\n\n\nTragen Sie unter \n['development']['user']['group']\n die Apache Benutzergruppe des Entwicklungsservers ein.\n\n\nTragen Sie unter \n['remote']['n']['production']['http']['url']\n die URL des jeweiligen Produktionsservers ein.\n\n\nTragen Sie unter \n['remote']['n']['production']['ssh']['host']\n den Hostnamen oder die IP-Adresse des jeweiligen Produktionsservers ein.\n\n\nTragen Sie unter \n['remote']['n']['production']['ssh']['port']\n den SSH Port ein, \u00fcber den der Produktionsserver per SSH erreichbar ist.\n\n\nTragen Sie unter \n['remote']['n']['production']['ssh']['username']\n den Namen des Benutzers, der sich per SSH mit dem jeweiligen Produktionsserver verbinden soll, ein.\n\n\nTragen Sie unter \n['remote']['n']['production']['ssh']['key']\n den absoluten Dateipfad zu der privaten Schl\u00fcsseldatei, mit dem sich der Benutzer am Entwicklungsserver anmeldet, ein. Es empfiehlt sich selbst einen neuen RSA-Key auf dem Entwicklungsserver zu erzeugen. Sie m\u00fcssen dann den \u00f6ffentlichen Schl\u00fcssel auf dem Produktionsserver in die \nauthorized_keys\n Datei des Benutzers (unter \nhome/benutzername/.ssh/authorized_keys\n) importieren. Achten Sie darauf, dass der Schl\u00fcssel selbst nicht durch eine Passphrase gesch\u00fctzt sein darf, da die Server-zu-Server Anmeldung sonst nicht automatisiert ablaufen kann. Vergewissern sie sich ggf. auch, dass die Schl\u00fcsseldatei dem entsprechenden Benutzer (und der Gruppe) geh\u00f6rt und \u00e4ndern Sie ggf. die Zugriffsrechte.\n\n\nTragen Sie unter \n['remote']['n']['production']['ssh']['docroot']\n den absoluten Pfad zu dem in der Apache-Konfiguration (Virtaul Host) festgelegten \nDOCUMENT_ROOT\n des Produktionsservers ein. Beachten sie, dass dieser zwingend auf das Verzeichnis \npublic\n des Produktionsservers zeigen muss (s.u.)\n\n\nTragen Sie unter \n['remote']['n']['production']['ssh']['datadir']\n den absulten Pfad zu dem \ndata\n Verzeichnis des Produktionsservers ein. Beachten Sie, dass dieser zwingend auf das Verzeichnis \ndata\n des Produktionsservers zeigen muss.\n\n\nTragen Sie unter \n['remote']['n']['production']['ssh']['group']\n die Gruppe ein, unter der Apache / PHP auf dem Produktionsserver ausgef\u00fchrt wird.\n\n\nTragen Sie in den Unterschl\u00fcsseln von \n['remote']['n']['production']['db']\n die Datenbankangaben f\u00fcr den \nProduktionsserver\n ein.\n\n\nTragen Sie unter \ndatabase\n, \nusername\n und \npassword\n die Angaben f\u00fcr die MySQL-Datenbank auf dem Produktionsserver ein (s.u. unter \"MySQL Datenbank\").\n\n\nPassen Sie ggf. den Pfad \nunix_socket\n zu der Unix Socket Datei an.\n\n\nBeachten Sie, dass diese Einstellungen in die Omeka-DB-INI-Dateien auf dem Produktionsserver \u00fcbernommen werden. Das bedeutet, dass sich z.B. die Angabe 'localhost' auf den Produktionsserver bezieht.\n\n\n\n\n\n\n\n\ndata/rsa/ddb_rsa und data/rsa/ddb_rsa.pub\n\u00b6\n\n\nPrivate und \u00f6ffentliche Schl\u00fcsseldatei zur Verwendung f\u00fcr die Authentifizierung bei SSH-Verbindungen.\nBitte generieren Sie aus Sicherheitsgr\u00fcnden selbst ein Schl\u00fcsselpaar (s.o.).\n\n\npublic\n\u00b6\n\n\nDieses Verzeichnis muss in der Apache-Konfiguration des Entwicklungsservers das \nDOCUMENT_ROOT\n der Dom\u00e4ne sein (s.o).\n\u00dcbernehmen Sie bei einer Upgrade-Installation alle Verzeichnisse von bereits angelegten Instanzen.\n\n\nKonvertieren vorhander Ausstellungen\n\u00b6\n\n\nUm bereits vorhandene Ausstellungen zu konvertieren, kopieren Sie aus \ndata/deploy.tar.gz\n die Dateien:\n\n\n\n\nfiles/layout/pagethumbnail/default-page-icon.jpg\n\n\nfiles/layout/pagethumbnail/default-summary-icon.jpg\n\n\nbootstrap.php\n\n\nindex.php\n\n\n\n\nin alle Verzeichnisse von Ausstellungs-Instanzen unter \npublic\n und ersetzen so alle alten Dateien.",
            "title": "Entwicklungsserver"
        },
        {
            "location": "/dev-srv/index.html#entwicklungsserver",
            "text": "",
            "title": "Entwicklungsserver"
        },
        {
            "location": "/dev-srv/index.html#mysql-datenbank",
            "text": "",
            "title": "MySQL Datenbank"
        },
        {
            "location": "/dev-srv/index.html#bei-updates",
            "text": "Die bereits existierende Datenabnk kann weiter verwendet werden.",
            "title": "Bei Updates"
        },
        {
            "location": "/dev-srv/index.html#erst-installation",
            "text": "Legen Sie bitte eine leere Datenbank mit der Kollation  utf8_unicode_ci  und einen MySQL Benutzer an. Gew\u00e4hren Sie dem MySQL Benutzer alle Rechte auf die Datenbank.\nSie erhalten initial eine MySQL-Datenbank-Dump-Datei, die Sie  einmalig  auf dem Entwicklungsserver in die von Ihnen erstellte Datenbank einlesen m\u00fcssen.",
            "title": "Erst-Installation"
        },
        {
            "location": "/dev-srv/index.html#dateien",
            "text": "",
            "title": "Dateien"
        },
        {
            "location": "/dev-srv/index.html#vorbereitung-bei-upgrade-auf-git-verion",
            "text": "Falls Sie ein Upgrade auf die Git-Version durchf\u00fchren, sichern Sie zun\u00e4chst alle Dateien aus dem Verzeichnis  app\\config  und die SSH-Schl\u00fcssel aus dem Verzeichnis  data/rsa/ , sowie die bereits vorhandenen Omneka Instanzen aus dem Ordner  public !\nDas sind alle Verzeichnisse unter  public  au\u00dfer diesen:   js  css  fonts  assets  packages",
            "title": "Vorbereitung bei Upgrade auf Git-Verion"
        },
        {
            "location": "/dev-srv/index.html#installation",
            "text": "Klonen Sie zun\u00e4chst das  Repository  f\u00fcr OMIM in eine  leeres  Verzeichnis auf Server.   Verzeichnis- und Dateirechte  Es muss gew\u00e4hrleistet sein, dass der Benutzer bzw. die Gruppe, unter der Apache / PHP auf dem Server ausgef\u00fchrt wird, Lese- und Schreibzugriff auf alle erstellten Verzeichnisse und Dateien hat. Dazu sollten die Berechtigungen gesetzt sein, indem die  Gruppe  gleich der prim\u00e4ren Gruppe von Apache / PHP ist (i.d.R.  www-data ) und die Rechte f\u00fcr Verzeichnisse auf  775  und f\u00fcr Dateien auf  664  gesetzt sind.   Klonen jetzt Sie das  Repository  direkt in den Unterordner  lib .\nVerwenden sie dazu den Befehl  git clone https://github.com/Deutsche-Digitale-Bibliothek/ddb-virtualexhibitions.git . --branch omeka-2.5 \num das Repositorium direkt in den Ordner zu klonen (es muss am Ende ein Pfad exisiteren mit  lib/omeka ).\nFalls Sie das Argument  --branch omeka-2.5  am Ende weggelassen haben, wechseln Sie jetzt in den Branch omeka-2.5 mit  git checkout omeka-2.5 .   Der aktuelle Branch ist omeka-2.5  Beachten Sie, dass Sie bis auf Weiteres immer nur mit der omeka-2.5 Branch arbeiten. Nur dort sind die Dateien aktualisiert.\nDie Masterbranch ist noch die alte Omeka-Version.   Bei einer  Upgrade-Installation  Verschieben oder kopieren Sie jetzt, die im vorigen Schritt gesicherten, Dateien und Ordner an Ihre jeweiligen Orte ( app\\config ,  data/rsa/ ,  public )!  Achten Sie darauf, dass in der Apache Serverkonfiguration das  DOCUMENT_ROOT  von der Dom\u00e4ne auf das  public  Verzeichnis zeigt.",
            "title": "Installation"
        },
        {
            "location": "/dev-srv/index.html#konfiguration",
            "text": "Wenn Sie eine Upgrade Installation durchf\u00fchren, brauchen Sie die Konfigurationsdateien nicht weiter anzupassen, sondern nur aus der Sicherung zu \u00fcbernehmen.  Hier der f\u00fcr die Konfiguration relevanten Dateien:    app  config  app.php  database.php  mail.php  omim.php      data  rsa  ddb_rsa  ddb_rsa.pub      public",
            "title": "Konfiguration"
        },
        {
            "location": "/dev-srv/index.html#appconfigappphp",
            "text": "Allgemeine Konfiguration des OMIM   'debug'  Standardwert:  false  Falls  true  werden bei Fehlern des OMIM detaillierte Meldungen angezeigt    'url'  Standardwert:  'http://redaktion.tld'  Hier bitte die URL des Entwicklungsservers angeben",
            "title": "app/config/app.php"
        },
        {
            "location": "/dev-srv/index.html#appconfigdatabasephp",
            "text": "Datenbankeinstellungen des  Entwicklungsservers \nRelevanter Konfigurationsabschnitt:  'connections' => array(\n    'mysql' => array(\n        'driver'    => 'mysql',\n        'host'      => 'localhost',\n        'unix_socket' => '/tmp/mysql5.sock',\n        'database'  => 'Name der Datenbank',\n        'username'  => 'Benutzername',\n        'password'  => 'Passwort',\n        'charset'   => 'utf8',\n        'collation' => 'utf8_unicode_ci',\n        'prefix'    => '',\n    ),\n),   Tragen Sie unter  database ,  username  und  password  die Angaben f\u00fcr die MySQL-Datenbank auf dem Entwicklungsserver ein (s.o. unter \"MySQL Datenbank\").  Passen Sie ggf. den Pfad  unix_socket  zu der Unix Socket Datei an.",
            "title": "app/config/database.php"
        },
        {
            "location": "/dev-srv/index.html#appconfigmailphp",
            "text": "Sollten Sie w\u00fcnschen, dass OMIM E-Mails versenden kann, tragen Sie hier bitte die entsprechenden Werte ein.",
            "title": "app/config/mail.php"
        },
        {
            "location": "/dev-srv/index.html#appconfigomimphp",
            "text": "Spezifische Konfiguration f\u00fcr die OMIM Anwendung.\nRelevanter Konfigurationsabschnitt:  'development' => array(\n    'user' => array(\n        'group' => 'www-data'\n    )\n),\n\n'remote' => array(\n    0 => array(\n        'production' => array(\n            'http' => array(\n                'url' => 'http://live.tld'\n            ),\n            'ssh' => array(\n                'host' => 'live.tld',\n                'port' => '22',\n                'username' => 'Benutzername f\u00fcr SSH',\n                'key' => '/path/to/private/rsa/key/file',\n                'docroot' => '/path/to/document_root/on/live/server',\n                'datadir' => '/path/to/data/dir/on/live/server',\n                'group' => 'www-data'\n            ),\n                'db' => array(\n                'host'      => 'localhost',\n                'database'  => 'Name der Datenbank',\n                'username'  => 'Benutzername',\n                'password'  => 'Passwort',\n                'charset'   => 'utf8',\n                'collation' => 'utf8_unicode_ci',\n                'unix_socket' => '/tmp/mysql5.sock',\n            )\n        )\n    ),\n    1 => array(\n        'production' => array(\n            'http' => array(\n                'url' => 'http://live-two.tld'\n            ),\n            'ssh' => array(\n                'host' => 'live-two.tld',\n                'port' => '22',\n                'username' => 'Benutzername f\u00fcr SSH',\n                'key' => '/path/to/private/rsa/key/file',\n                'docroot' => '/path/to/document_root/on/live/server',\n                'datadir' => '/path/to/data/dir/on/live/server',\n                'group' => 'www-data'\n            ),\n            'db' => array(\n                'host'      => 'localhost',\n                'database'  => 'Name der Datenbank',\n                'username'  => 'Benutzername',\n                'password'  => 'Passwort',\n                'charset'   => 'utf8',\n                'collation' => 'utf8_unicode_ci',\n                'unix_socket' => '/tmp/mysql5.sock',\n            )\n        )\n    ),\n)   Tragen Sie unter  ['development']['user']['group']  die Apache Benutzergruppe des Entwicklungsservers ein.  Tragen Sie unter  ['remote']['n']['production']['http']['url']  die URL des jeweiligen Produktionsservers ein.  Tragen Sie unter  ['remote']['n']['production']['ssh']['host']  den Hostnamen oder die IP-Adresse des jeweiligen Produktionsservers ein.  Tragen Sie unter  ['remote']['n']['production']['ssh']['port']  den SSH Port ein, \u00fcber den der Produktionsserver per SSH erreichbar ist.  Tragen Sie unter  ['remote']['n']['production']['ssh']['username']  den Namen des Benutzers, der sich per SSH mit dem jeweiligen Produktionsserver verbinden soll, ein.  Tragen Sie unter  ['remote']['n']['production']['ssh']['key']  den absoluten Dateipfad zu der privaten Schl\u00fcsseldatei, mit dem sich der Benutzer am Entwicklungsserver anmeldet, ein. Es empfiehlt sich selbst einen neuen RSA-Key auf dem Entwicklungsserver zu erzeugen. Sie m\u00fcssen dann den \u00f6ffentlichen Schl\u00fcssel auf dem Produktionsserver in die  authorized_keys  Datei des Benutzers (unter  home/benutzername/.ssh/authorized_keys ) importieren. Achten Sie darauf, dass der Schl\u00fcssel selbst nicht durch eine Passphrase gesch\u00fctzt sein darf, da die Server-zu-Server Anmeldung sonst nicht automatisiert ablaufen kann. Vergewissern sie sich ggf. auch, dass die Schl\u00fcsseldatei dem entsprechenden Benutzer (und der Gruppe) geh\u00f6rt und \u00e4ndern Sie ggf. die Zugriffsrechte.  Tragen Sie unter  ['remote']['n']['production']['ssh']['docroot']  den absoluten Pfad zu dem in der Apache-Konfiguration (Virtaul Host) festgelegten  DOCUMENT_ROOT  des Produktionsservers ein. Beachten sie, dass dieser zwingend auf das Verzeichnis  public  des Produktionsservers zeigen muss (s.u.)  Tragen Sie unter  ['remote']['n']['production']['ssh']['datadir']  den absulten Pfad zu dem  data  Verzeichnis des Produktionsservers ein. Beachten Sie, dass dieser zwingend auf das Verzeichnis  data  des Produktionsservers zeigen muss.  Tragen Sie unter  ['remote']['n']['production']['ssh']['group']  die Gruppe ein, unter der Apache / PHP auf dem Produktionsserver ausgef\u00fchrt wird.  Tragen Sie in den Unterschl\u00fcsseln von  ['remote']['n']['production']['db']  die Datenbankangaben f\u00fcr den  Produktionsserver  ein.  Tragen Sie unter  database ,  username  und  password  die Angaben f\u00fcr die MySQL-Datenbank auf dem Produktionsserver ein (s.u. unter \"MySQL Datenbank\").  Passen Sie ggf. den Pfad  unix_socket  zu der Unix Socket Datei an.  Beachten Sie, dass diese Einstellungen in die Omeka-DB-INI-Dateien auf dem Produktionsserver \u00fcbernommen werden. Das bedeutet, dass sich z.B. die Angabe 'localhost' auf den Produktionsserver bezieht.",
            "title": "app/config/omim.php"
        },
        {
            "location": "/dev-srv/index.html#datarsaddb95rsa-und-datarsaddb95rsapub",
            "text": "Private und \u00f6ffentliche Schl\u00fcsseldatei zur Verwendung f\u00fcr die Authentifizierung bei SSH-Verbindungen.\nBitte generieren Sie aus Sicherheitsgr\u00fcnden selbst ein Schl\u00fcsselpaar (s.o.).",
            "title": "data/rsa/ddb_rsa und data/rsa/ddb_rsa.pub"
        },
        {
            "location": "/dev-srv/index.html#public",
            "text": "Dieses Verzeichnis muss in der Apache-Konfiguration des Entwicklungsservers das  DOCUMENT_ROOT  der Dom\u00e4ne sein (s.o).\n\u00dcbernehmen Sie bei einer Upgrade-Installation alle Verzeichnisse von bereits angelegten Instanzen.",
            "title": "public"
        },
        {
            "location": "/dev-srv/index.html#konvertieren-vorhander-ausstellungen",
            "text": "Um bereits vorhandene Ausstellungen zu konvertieren, kopieren Sie aus  data/deploy.tar.gz  die Dateien:   files/layout/pagethumbnail/default-page-icon.jpg  files/layout/pagethumbnail/default-summary-icon.jpg  bootstrap.php  index.php   in alle Verzeichnisse von Ausstellungs-Instanzen unter  public  und ersetzen so alle alten Dateien.",
            "title": "Konvertieren vorhander Ausstellungen"
        },
        {
            "location": "/prod-srv/index.html",
            "text": "Produktionsserver\n\u00b6\n\n\nMySQL Datenbank\n\u00b6\n\n\nBei Updates\n\u00b6\n\n\nDie bereits existierende Datenabnk kann weiter verwendet werden.\n\n\nErst-Installation\n\u00b6\n\n\nLegen Sie bitte eine leere Datenbank mit der Kollation \nutf8_unicode_ci\n und einen MySQL Benutzer an. Gew\u00e4hren Sie dem MySQL Benutzer alle Rechte auf die Datenbank.\nDie Datenbank bleibt leer und wird bei der Aktion \"Ver\u00f6ffentlichen\" des OMIM vom Entwicklungsserver aus mit Daten bef\u00fcllt.\n\n\nDateien\n\u00b6\n\n\nBei Updates\n\u00b6\n\n\nErstellen Sie eine Kopie von allen Unterordnern von \npublic\n.\n\n\nInstallation und Konfiguration\n\u00b6\n\n\nErstellen Sie in einem leeren Ordner drei Unterordner:\n\n\n\n\ndata\n\n\nlib\n\n\npublic\n\n\n\n\nSpeichern Sie aus der \nRepository des DDB Virtual-Exhibitions-Manager\n die Dateien \n.htaccees\n und \ndeploy.tar.gz\n. (Sie konnen die ganze Repository als ZIP herunter laden und die Dateien dann aus dem Ordner \nddb-virtualexhibitions-manager/data/production/\n extrahieren.). Speichern Sie dabei die Datei \n.htaccees\n im Ordner \npublic\n und die Datei \ndeploy.tar.gz\n im Ordner \ndata\n.\n\n\n\n\nRepository f\u00fcr Repository des DDB Virtual-Exhibitions-Manager nicht klonen!\n\n\nBitte klonen Sie auf Produktionsservern das Repository des DDB Virtual-Exhibitions-Manager \nnicht\n in das Stammverzeichnis!\nDie zwei Dateien aus dem Repository m\u00fcssen nur einmalig per Hand kopiert werden. Sp\u00e4ter werden beim Ver\u00f6ffentlichen die Dateien ggf. automatisch erstzt.\n\n\n\n\nKlonen jetzt Sie das \nRepository\n direkt in den Unterordner \nlib\n.\nVerwenden sie dazu den Befehl \ngit clone https://github.com/Deutsche-Digitale-Bibliothek/ddb-virtualexhibitions.git .\n\num das Repositorium direkt in den Ordner zu klonen (es muss am Ende ein Pfad exisiteren mit \nlib/omeka\n)\n\n\n\n\nVerzeichnis- und Dateirechte\n\n\nEs muss gew\u00e4hrleistet sein, dass einerseits der Benutzer, mit dessen Konto sich der Entwicklungsserver per SSH verbindet und andererseits die Gruppe, unter der Apache / PHP auf dem Server ausgef\u00fchrt wird, Lese- und Schreibzugriff auf alle erstellten Verzeichnisse und Dateien haben.\nSetzen Sie dazu den Benutzer f\u00fcr alle betreffenden Verzeichnisse und Dateien auf den SSH-Benutzer und die Gruppe auf die Gruppe von Apache / PHP (i.d.R. www-data) und die Rechte f\u00fcr Verzeichnisse auf 775 und f\u00fcr Dateien auf 664.\n\n\n\n\nFalls Sie ein Update vornehmen kopieren Sie die gesicherten Unterordner von \npublic\n wieder dort hin.\n\n\nDas Verzeichnis \npublic\n muss in der Apache-Konfiguration des Servers das \nDOCUMENT_ROOT\n der Dom\u00e4ne sein.\n\n\nDenken Sie daran, den \u00f6ffentlichen Schl\u00fcssel des SSH Benutzers vom Entwicklungsserver in die \nauthorized_keys\n Datei einzutragen.",
            "title": "Produktionsserver"
        },
        {
            "location": "/prod-srv/index.html#produktionsserver",
            "text": "",
            "title": "Produktionsserver"
        },
        {
            "location": "/prod-srv/index.html#mysql-datenbank",
            "text": "",
            "title": "MySQL Datenbank"
        },
        {
            "location": "/prod-srv/index.html#bei-updates",
            "text": "Die bereits existierende Datenabnk kann weiter verwendet werden.",
            "title": "Bei Updates"
        },
        {
            "location": "/prod-srv/index.html#erst-installation",
            "text": "Legen Sie bitte eine leere Datenbank mit der Kollation  utf8_unicode_ci  und einen MySQL Benutzer an. Gew\u00e4hren Sie dem MySQL Benutzer alle Rechte auf die Datenbank.\nDie Datenbank bleibt leer und wird bei der Aktion \"Ver\u00f6ffentlichen\" des OMIM vom Entwicklungsserver aus mit Daten bef\u00fcllt.",
            "title": "Erst-Installation"
        },
        {
            "location": "/prod-srv/index.html#dateien",
            "text": "",
            "title": "Dateien"
        },
        {
            "location": "/prod-srv/index.html#bei-updates_1",
            "text": "Erstellen Sie eine Kopie von allen Unterordnern von  public .",
            "title": "Bei Updates"
        },
        {
            "location": "/prod-srv/index.html#installation-und-konfiguration",
            "text": "Erstellen Sie in einem leeren Ordner drei Unterordner:   data  lib  public   Speichern Sie aus der  Repository des DDB Virtual-Exhibitions-Manager  die Dateien  .htaccees  und  deploy.tar.gz . (Sie konnen die ganze Repository als ZIP herunter laden und die Dateien dann aus dem Ordner  ddb-virtualexhibitions-manager/data/production/  extrahieren.). Speichern Sie dabei die Datei  .htaccees  im Ordner  public  und die Datei  deploy.tar.gz  im Ordner  data .   Repository f\u00fcr Repository des DDB Virtual-Exhibitions-Manager nicht klonen!  Bitte klonen Sie auf Produktionsservern das Repository des DDB Virtual-Exhibitions-Manager  nicht  in das Stammverzeichnis!\nDie zwei Dateien aus dem Repository m\u00fcssen nur einmalig per Hand kopiert werden. Sp\u00e4ter werden beim Ver\u00f6ffentlichen die Dateien ggf. automatisch erstzt.   Klonen jetzt Sie das  Repository  direkt in den Unterordner  lib .\nVerwenden sie dazu den Befehl  git clone https://github.com/Deutsche-Digitale-Bibliothek/ddb-virtualexhibitions.git . \num das Repositorium direkt in den Ordner zu klonen (es muss am Ende ein Pfad exisiteren mit  lib/omeka )   Verzeichnis- und Dateirechte  Es muss gew\u00e4hrleistet sein, dass einerseits der Benutzer, mit dessen Konto sich der Entwicklungsserver per SSH verbindet und andererseits die Gruppe, unter der Apache / PHP auf dem Server ausgef\u00fchrt wird, Lese- und Schreibzugriff auf alle erstellten Verzeichnisse und Dateien haben.\nSetzen Sie dazu den Benutzer f\u00fcr alle betreffenden Verzeichnisse und Dateien auf den SSH-Benutzer und die Gruppe auf die Gruppe von Apache / PHP (i.d.R. www-data) und die Rechte f\u00fcr Verzeichnisse auf 775 und f\u00fcr Dateien auf 664.   Falls Sie ein Update vornehmen kopieren Sie die gesicherten Unterordner von  public  wieder dort hin.  Das Verzeichnis  public  muss in der Apache-Konfiguration des Servers das  DOCUMENT_ROOT  der Dom\u00e4ne sein.  Denken Sie daran, den \u00f6ffentlichen Schl\u00fcssel des SSH Benutzers vom Entwicklungsserver in die  authorized_keys  Datei einzutragen.",
            "title": "Installation und Konfiguration"
        }
    ]
}